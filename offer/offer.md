1. 为什么连接是三次握手，而断开确实四次挥手?

   因为建立连接的时候，双方没有数据的来往，可以把ACK和SYN放到一个报文进行发送。

   但在关闭连接时，收到FIN报文后，它表示对方没有数据需要再发送了，但自己可能还有数据要发给对方，这是发送一个ACK报文，表示自己收到了FIN报文。当自己也没有数据需要发送的时候，就发送一个FIN表示你现在同意关闭连接了，对面再发送一个ACK即完成断开。

2. 为什么CLIENT主机最后一次发送ACK后不立即断开，而是经过TIME_WAIT状态经过2MSL(最大报文生存时间)后才返回到CLOSE状态？

   因为网络时不可靠的，有可能最后一个ACK会丢失，SERVER端如果没有收到ACK，会再次发送FIN报文，所以CLIENT主机不能立即关闭，他需要确认SERVER端收到了ACK。CLIENT进入TIME_OUT状态后，会设置一个计时器，等待2MSL后进入CLOSE状态，如果在这个时间内再次收到FIN，就会重新发送ACK，并重新等待2MSL.

3. 为什么不能用两次握手进行连接？

4. 如果已经建立连接，但客户端出现故障会怎么办？

   